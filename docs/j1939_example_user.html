<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!-- Google tag (gtag.js) -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4EJGM9KKQR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-4EJGM9KKQR');
</script></script>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>J1939 Protocol Stack | Complete list of callbacks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
   DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc-awesome.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">J1939 Documentation</div>
   <div id="projectnumber">Version 4.10.00</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('j1939_example_user.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Complete list of callbacks </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_pages_j1939_start_j1939_example_user"></a> </p><div class="fragment"><div class="line"><span class="comment">//====================================================================================================================//</span></div>
<div class="line"><span class="comment">// File:          j1939_user.c                                                                                        //</span></div>
<div class="line"><span class="comment">// Description:   Application specific functions for J1939 stack                                                      //</span></div>
<div class="line"><span class="comment">//                                                                                                                    //</span></div>
<div class="line"><span class="comment">// Copyright (C) MicroControl GmbH &amp; Co. KG                                                                           //</span></div>
<div class="line"><span class="comment">// 53844 Troisdorf - Germany                                                                                          //</span></div>
<div class="line"><span class="comment">// www.microcontrol.net                                                                                               //</span></div>
<div class="line"><span class="comment">//                                                                                                                    //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// The copyright to the computer program(s) herein is the property of MicroControl GmbH &amp; Co. KG, Germany. The        //</span></div>
<div class="line"><span class="comment">// program(s) may be used and/or copied only with the written permission of MicroControl GmbH &amp; Co. KG or in          //</span></div>
<div class="line"><span class="comment">// accordance with the terms and conditions stipulated in the agreement/contract under which the program(s) have      //</span></div>
<div class="line"><span class="comment">// been supplied.                                                                                                     //</span></div>
<div class="line"><span class="comment">//                                                                                                                    //</span></div>
<div class="line"><span class="comment">//====================================================================================================================//</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/*--------------------------------------------------------------------------------------------------------------------*\</span></div>
<div class="line"><span class="comment">** IMPORTANT NOTE                                                                                                     **</span></div>
<div class="line"><span class="comment">** This file provides a template for all functions that need to be adopted to YOUR hardware. Copy this file to        **</span></div>
<div class="line"><span class="comment">** &lt;myfile.c&gt; and make your changes in the new file.                                                                  **</span></div>
<div class="line"><span class="comment">\*--------------------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/*--------------------------------------------------------------------------------------------------------------------*\</span></div>
<div class="line"><span class="comment">** Include files                                                                                                      **</span></div>
<div class="line"><span class="comment">**                                                                                                                    **</span></div>
<div class="line"><span class="comment">\*--------------------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;j1939_diag_mem.h&quot;</span>  <span class="comment">// J1939 diagnosis</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="j1939__mgr_8h.html">j1939_mgr.h</a>&quot;</span>       <span class="comment">// J1939 manager </span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="j1939__msg_8h.html">j1939_msg.h</a>&quot;</span>       <span class="comment">// J1939 message handling</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="j1939__nmt_8h.html">j1939_nmt.h</a>&quot;</span>       <span class="comment">// J1939 network management</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">/*--------------------------------------------------------------------------------------------------------------------*\</span></div>
<div class="line"><span class="comment">** Functions                                                                                                          **</span></div>
<div class="line"><span class="comment">**                                                                                                                    **</span></div>
<div class="line"><span class="comment">\*--------------------------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// J1939_DiagMemRequest()                                                                                             //</span></div>
<div class="line"><span class="comment">//                                                                                                                    //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="keywordtype">void</span>  J1939_DiagMemRequest(uint8_t ubNetV, uint8_t ubSrcAddrV, J1939_MemAccess_ts * ptsMemoryV)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// J1939_MgrEventRcvTimeout()                                                                                         //</span></div>
<div class="line"><span class="comment">// Handler for reception timeout condition                                                                            //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="j1939__mgr_8h.html#a4701a0e79e985680acb9e3d5fd84cc80">J1939_MgrEventRcvTimeout</a>(uint8_t ubNetV, uint32_t ulPgnV)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">//-----------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// example for handling of PGN timeouts</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <span class="keywordflow">switch</span> (ulPgnV)</div>
<div class="line">   {</div>
<div class="line">      <span class="keywordflow">case</span> 100:</div>
<div class="line">         <span class="comment">//--------------------------------------</span></div>
<div class="line">         <span class="comment">// handle timeout condition</span></div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">case</span> 65260:</div>
<div class="line">         <span class="comment">//--------------------------------------</span></div>
<div class="line">         <span class="comment">// handle timeout condition</span></div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">default</span>:</div>
<div class="line">         <span class="comment">//--------------------------------------</span></div>
<div class="line">         <span class="comment">// handle timeout condition</span></div>
<div class="line">         <span class="keywordflow">break</span>;</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// J1939_MgrOnBusOff()                                                                                                //</span></div>
<div class="line"><span class="comment">// Handler for Bus-Off condition                                                                                      //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="j1939__mgr_8h.html#a6c55b5340254d2df023c4f3202998ac8">J1939_MgrOnBusOff</a>(uint8_t ubNetV)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// J1939_NmtEventClaimAddess()                                                                                        //</span></div>
<div class="line"><span class="comment">// handle address claim messages of other nodes                                                                       //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="j1939__nmt_8h.html#a8304576f6f60e2618b1299174045c2e9">J1939_NmtEventClaimAddess</a>(uint8_t ubNetV, uint8_t ubSrcAddrV, uint8_t * pubDataV)</div>
<div class="line">{</div>
<div class="line">   uint8_t  aubNameT[8];</div>
<div class="line">   uint8_t  ubCntT;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">   <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// ubSrcAddrV - ID of claiming node</span></div>
<div class="line">   <span class="comment">// pubDataV   - pointer to 8 bytes of NAME</span></div>
<div class="line">   <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">   <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// example: check for a specific ECU at address 0</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <span class="keywordflow">if</span>(ubSrcAddrV == 0)</div>
<div class="line">   {</div>
<div class="line">      <span class="keywordflow">for</span>(ubCntT = 0; ubCntT &lt; 8; ubCntT++)</div>
<div class="line">      {</div>
<div class="line">         aubNameT[ubCntT] = *pubDataV;</div>
<div class="line">         pubDataV++;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//--------------------------------------------------------</span></div>
<div class="line">      <span class="comment">// check the NAME value</span></div>
<div class="line">      <span class="keywordflow">if</span> (aubNameT[0] == 0x43)</div>
<div class="line">      {</div>
<div class="line"> </div>
<div class="line">      }</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// J1939_NmtGetIdentityNumber()                                                                                       //</span></div>
<div class="line"><span class="comment">// read identity number (21 bit value)                                                                                //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line">uint32_t <a class="code hl_function" href="j1939__nmt_8h.html#a5cc4e56606b50c22bf2d42a9f280bebc">J1939_NmtGetIdentityNumber</a>(uint8_t ubNetV)</div>
<div class="line">{</div>
<div class="line">   uint32_t  ulIdentityT;</div>
<div class="line"> </div>
<div class="line">   <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// setup identity value, e.g. read from EEPROM</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   ulIdentityT = 0x00223456;</div>
<div class="line"> </div>
<div class="line">   <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// make sure that only 21 bit are valid</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   ulIdentityT = ulIdentityT &amp; 0x001FFFFF;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span>(ulIdentityT);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line"><span class="comment">// J1939_NmtGetNewAddress()                                                                                           //</span></div>
<div class="line"><span class="comment">// setup a new address                                                                                                //</span></div>
<div class="line"><span class="comment">//--------------------------------------------------------------------------------------------------------------------//</span></div>
<div class="line">uint8_t <a class="code hl_function" href="j1939__nmt_8h.html#ae3bc75409954c1fbe1c54539abb5786f">J1939_NmtGetNewAddress</a>(uint8_t ubNetV, uint8_t ubCurrentAddressV)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">//----------------------------------------------------------------</span></div>
<div class="line">   <span class="comment">// this demo adds the value 2 to the current address</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <span class="keywordflow">return</span>(ubCurrentAddressV + 2);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="aj1939__mgr_8h_html"><div class="ttname"><a href="j1939__mgr_8h.html">j1939_mgr.h</a></div><div class="ttdoc">J1939 Management Functions .</div></div>
<div class="ttc" id="aj1939__mgr_8h_html_a4701a0e79e985680acb9e3d5fd84cc80"><div class="ttname"><a href="j1939__mgr_8h.html#a4701a0e79e985680acb9e3d5fd84cc80">J1939_MgrEventRcvTimeout</a></div><div class="ttdeci">void J1939_MgrEventRcvTimeout(uint8_t ubNetV, uint32_t ulPgnV)</div></div>
<div class="ttc" id="aj1939__mgr_8h_html_a6c55b5340254d2df023c4f3202998ac8"><div class="ttname"><a href="j1939__mgr_8h.html#a6c55b5340254d2df023c4f3202998ac8">J1939_MgrOnBusOff</a></div><div class="ttdeci">void J1939_MgrOnBusOff(uint8_t ubNetV)</div></div>
<div class="ttc" id="aj1939__msg_8h_html"><div class="ttname"><a href="j1939__msg_8h.html">j1939_msg.h</a></div><div class="ttdoc">J1939 Identifier calculation functions .</div></div>
<div class="ttc" id="aj1939__nmt_8h_html"><div class="ttname"><a href="j1939__nmt_8h.html">j1939_nmt.h</a></div><div class="ttdoc">J1939 Network management .</div></div>
<div class="ttc" id="aj1939__nmt_8h_html_a5cc4e56606b50c22bf2d42a9f280bebc"><div class="ttname"><a href="j1939__nmt_8h.html#a5cc4e56606b50c22bf2d42a9f280bebc">J1939_NmtGetIdentityNumber</a></div><div class="ttdeci">uint32_t J1939_NmtGetIdentityNumber(uint8_t ubNetV)</div></div>
<div class="ttc" id="aj1939__nmt_8h_html_a8304576f6f60e2618b1299174045c2e9"><div class="ttname"><a href="j1939__nmt_8h.html#a8304576f6f60e2618b1299174045c2e9">J1939_NmtEventClaimAddess</a></div><div class="ttdeci">void J1939_NmtEventClaimAddess(uint8_t ubNetV, uint8_t ubSrcAddrV, uint8_t *pubDataV)</div></div>
<div class="ttc" id="aj1939__nmt_8h_html_ae3bc75409954c1fbe1c54539abb5786f"><div class="ttname"><a href="j1939__nmt_8h.html#ae3bc75409954c1fbe1c54539abb5786f">J1939_NmtGetNewAddress</a></div><div class="ttdeci">uint8_t J1939_NmtGetNewAddress(uint8_t ubNetV, uint8_t ubCurrentAddressV)</div></div>
</div><!-- fragment --><p><br  />
 <br  />
 <br  />
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer"><a href="https://www.microcontrol.net">&copy; MicroControl GmbH &amp; Co. KG</a> Tue Aug 29 2023 </li>
  </ul>
</div>
</body>
</html>
